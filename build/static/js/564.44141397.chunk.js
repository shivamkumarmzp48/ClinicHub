"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[564],{6794:(e,s,t)=>{t.d(s,{Z:()=>c});t(2791);var n=t(6355),r=t(3495),i=t(1087),l=t(184);const c=()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("footer",{children:[(0,l.jsxs)("div",{className:"footer",children:[(0,l.jsxs)("div",{className:"footer-links",children:[(0,l.jsx)("h3",{children:"Links"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(i.OL,{to:"/",children:"Home"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.OL,{to:"/doctors",children:"Doctors"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.OL,{to:"/appointments",children:"Appointments"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.OL,{to:"/notifications",children:"Notifications"})}),(0,l.jsx)("li",{children:(0,l.jsx)(r.fO,{to:"/#contact",children:"Contact Us"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.OL,{to:"/profile",children:"Profile"})})]})]}),(0,l.jsxs)("div",{className:"social",children:[(0,l.jsx)("h3",{children:"Social links"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{className:"facebook",children:(0,l.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,l.jsx)(n.tBk,{})})}),(0,l.jsx)("li",{className:"youtube",children:(0,l.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,l.jsx)(n.V2E,{})})}),(0,l.jsx)("li",{className:"instagram",children:(0,l.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,l.jsx)(n.Zf_,{})})})]})]})]}),(0,l.jsxs)("div",{className:"footer-bottom",children:["Copy Right \xa9 ",(new Date).getFullYear()]})]})})},564:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var n=t(2791),r=t(9434),i=t(3321),l=t(6794),c=t(4956),o=t(4971),a=t(5318),d=t(3200),h=t(5218),j=t(456),x=t(3263),m=(t(5108),t(184));const p=()=>{const[e,s]=(0,n.useState)([]),[t,p]=(0,n.useState)(1),u=(0,r.I0)(),{loading:f}=(0,r.v9)((e=>e.root)),{userId:g}=(0,j.Z)(localStorage.getItem("token")),b=async()=>{try{u((0,a.K4)(!0));const e=await(0,o.Z)(`/appointment/getallappointments?search=${g}`);s(e),u((0,a.K4)(!1))}catch(e){console.error("Error fetching appointments:",e),h.Am.error("Failed to fetch appointments. Please try again.")}};(0,n.useEffect)((()=>{b()}),[]);const k=Math.ceil(e.length/5),N=e.slice(5*(t-1),5*t);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{}),f?(0,m.jsx)(d.Z,{}):(0,m.jsxs)("section",{className:"container notif-section",children:[(0,m.jsx)("h2",{className:"page-heading",children:"Your Appointments"}),e.length>0?(0,m.jsxs)("div",{className:"appointments",children:[(0,m.jsxs)("table",{children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"S.No"}),(0,m.jsx)("th",{children:"Doctor"}),(0,m.jsx)("th",{children:"P Name"}),(0,m.jsx)("th",{children:"P Age"}),(0,m.jsx)("th",{children:"P Gender"}),(0,m.jsx)("th",{children:"P Mobile No."}),(0,m.jsx)("th",{children:"P bloodGroup"}),(0,m.jsx)("th",{children:"P Family Diseases"}),(0,m.jsx)("th",{children:"Appointment Date"}),(0,m.jsx)("th",{children:"Status"}),(0,m.jsx)("th",{children:"Actions"})]})}),(0,m.jsx)("tbody",{children:N.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:5*(t-1)+s+1}),(0,m.jsx)("td",{children:`${e.doctorId.firstname} ${e.doctorId.lastname}`}),(0,m.jsx)("td",{children:`${e.userId.firstname} ${e.userId.lastname}`}),(0,m.jsx)("td",{children:e.age}),(0,m.jsx)("td",{children:e.gender}),(0,m.jsx)("td",{children:e.number}),(0,m.jsx)("td",{children:e.bloodGroup}),(0,m.jsx)("td",{children:e.familyDiseases}),(0,m.jsx)("td",{children:e.date}),(0,m.jsx)("td",{children:e.status}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"btn user-btn complete-btn",onClick:()=>(async e=>{try{await x.Z.put("/appointment/completed",{appointid:e._id,doctorId:e.doctorId._id,doctorname:`${e.userId.firstname} ${e.userId.lastname}`},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),h.Am.success("Appointment completed successfully."),b()}catch(s){console.error("Error completing appointment:",s),h.Am.error("Failed to complete appointment. Please try again.")}})(e),disabled:"Completed"===e.status,children:"Complete"})})]},e._id)))})]}),(0,m.jsx)("div",{className:"pagination",children:(()=>{const e=[];for(let s=1;s<=k;s++)e.push((0,m.jsx)("button",{onClick:()=>{p(s)},children:s},s));return e})()})]}):(0,m.jsx)(i.Z,{message:"No appointments found."})]}),(0,m.jsx)(l.Z,{})]})}}}]);
//# sourceMappingURL=564.44141397.chunk.js.map